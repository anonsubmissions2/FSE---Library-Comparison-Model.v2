\section{Methodology}\label{sec:methodology}
Given the absence of a library adoption model in the literature, we decided to adopt Straussian grounded theory \cite{corbin2014gt}.  
% All of the authors of this paper have at least ten years of industry experience. As such, it was also important that our formulation of the library adoption model is derived from the responses of study participants, while the model is not biased by our prior own experience. 
% Unlike classical grounded theory, Straussian grounded theory acknowledges the presence of research bias, assumptions, and motivations, and provides structured tools (constant comparison and memoing) to handle the intrusion \cite{stol2016grounded,corbin2014gt}. 
We chose to conduct semi-structured interviews of industry developers to derive our adoption model, because such interviews allow the researcher to elicit unexpected information and to evolve our questions as the study progresses \cite{HoveAnda,Seaman}. 



% Because the study involved human subjects, we obtained approval from the Ethical Review Board of our institution before conducting interviews. In total, we conducted \numInterviews interviews, interleaving data collection and analysis following grounded theory design principles. Figure~1 in the Appendix shows the overall research process.



\input{tables/interviewee-profile.tex}
\subsection{Participant Recruitment Strategy}
We conducted \numInterviews interviews between June 2022 and January 2023. Table~\ref{tab:interviewee-profile} provides an overview of participants.
The average number years of professional experience of the participants was 14 years. Their roles spread across the spectrum of engineering and leadership roles and in nine different countries from five continents. The tech stack also had wide varieties (e.g., C/C++, Java, Python, Android, iOS, .NET, machine learning etc.). Many of our participants were working in large corporations (e.g., Google, Microsoft, etc.) and open source projects. Among all the interviewees, three experts identified themselves as female. Our participants covered 16 application domains including specialized regulated areas as such health, finance, cybersecurity, and broadcast media. 

 % An important part of grounded theory is theoretical sampling of the concepts. It means that after every interview, we had to perform data analysis of the interview, identify the concepts which needed further elaboration, and select the next few interviewees to improve the probability of getting answers regarding emerging concepts. Before conducting interviews, we performed initial screening of the participants through a short phone call (around 5 to 10 minutes). After we identified that a participant could provide relevant insights, we sent them a formal interview invitation. 
 % In this way, we reached out to 38 potential participants for initial screening of emerging concepts through the professional network of the authors. 



\subsubsection{Theoretical Sampling for Recruitment}
We started with an architect (participant P1) from our professional acquaintance who had twelve years of experience including designing and developing from scratch a payment system in a 260 human-year project spanning over six years. We knew that they had to select a huge number of libraries throughout this development. Our first interview lasted  115 minutes, as we were developing initial concepts around all of our research questions, while subsequent interviews averaged 64 minutes. % range 42-115
After analyzing the initial interview data, we realized that we needed more information about commercial factors (particularly licensing) and integration process of a library. Hence, we chose our next participant (P2) who was working in large organization (\#engineers $\geq$ 80K), and who had experience on licensing concerns about software libraries. In this way we continued the theoretical sampling to saturate all the relevant concepts. The motivation for selecting every participant is provided in the Appendix. 
% In most of the cases, we were able to extract insights about target concept from the interviewees. For example, we wanted to dig deep into the library maintenance issues and we identified mobile applications need continuous update because of the yearly operating system update. Hence we reached out to a mobile developer P14 who actively manages applications in all mobile OS platforms and in the interview, they provided us significant insights about maintenance and migration issues. 


\subsubsection{Concept Saturation over the Interviews}
%\input{tables/concept-saturation-progress.tex}
Our work was initiated with the question RQ1: ``What are the major steps developers follow during their adoption of a software library?'' We soon realized that the process is influenced by certain conditions and factors, leading us to ask RQ2: ``What conditions and factors influence the library adoption process?'' 
%As we continued to conduct interviews, our concepts started to saturate. Though many interviewees contributed towards the saturation, a few interviewees contribute most, and after such an interview a concept saturates very quickly. 
By time we interviewed P8, we also realized that there were specific library selection principles and many pros and cons of libraries depending on the scenarios. Also after hearing P9's concerns about third-party libraries, we started to discuss about benefits and barriers more. This led to RQ3: ``What guiding principles do developers follow in library adoption?'' These concepts were well understood by the time we interviewed P22. At the end of the interview of P24, we did not get any new dimensions or properties of existing concepts as they were all well saturated.

%\textcolor{blue}{[Minaoar]}
%Our work was initiated by the following question: \textit{\textbf{RQ1:} How developers adopt third-party libraries?} After understanding the adoption process, we realized that the process is influenced by certain conditions and technical factors. Then we tried to answer \textit{\textbf{RQ2}: What conditions and technical factors influence the library adoption process?} Finally, we were curious why developers change adoption process based on the conditions and factors? Is there any guiding principles developers follow for library adoption? Then our final question was \textit{\textbf{RQ3:} What guiding principles developers follow in library adoption?} \ab{I'd put this in the methodology where you're talking about GT}

% \subsubsection{Repeated Interviews for Open Questions}
% However, in few cases, we could not find elaboration of our target concept from the interviewee and had to plan for other participants who could answer the questions we had. For example, we expected that P12, who specializes in DevOps process establishment in tech companies, could share experience on continuous monitoring of libraries for security concerns. However, P12 explained that in most of the cases when they consulted the organizations, they could never reach up to that matured security monitoring level, their target was to achieve continuous functional test coverage up to 50\%. Though we could not elicit the target concept, we could collect valuable insights about the reservations organizations have towards open source libraries. Then we interviewed P16, who was a certified security professional actively developing security products, to know their security protection against software libraries. They again did not follow any continuous monitoring process, they only ran security audits once a year. Finally, we got a clear conception on continuous security monitoring for third-party libraries from P17. 

% \subsubsection{Profile of the Interviewees}
% Following the theoretical sampling, we stopped the interviews when we had properties and dimensions of all concepts. The average number years of professional experience of the participants was 14 years, and their roles spread across the spectrum of engineering and leadership roles, including engineer, architect, consultant, CTO and CEO who are working in nine different countries on five continents. The tech stack also had wide varieties, e.g., open source library intensive languages such as Java, Python, Perl, JavaScript, Android, and iOS, and also historically less library focused languages such as C/C++ and .NET. Many of our participants have professional experience of working in large corporations such as Microsoft, Google, Amazon, AWS, Oracle, Cisco, IBM, and open source projects such as GitLab, RedHat Enterprise Linux, and Azure Communications Services, as well as leading startup and small size companies with 6 to 10 developers. Three of the participants described more than 90\% of their full time work in open source projects. Among all the interviewees, three experts identified themselves as female. Our participants also covered a wide range of 16 application domains including specialized regulated areas as such health, finance, cybersecurity, and broadcast media. 

% \subsubsection{Interviews}
% We conducted \numInterviews interviews between June 2022 and January 2023. All interviews were conducted online using Microsoft Teams for easy transcription. All interviews were both audio and video recorded except one. Interviews lasted from 42 minutes to 115 minutes with an average of 64 minutes per interview. Because of lack of accuracy of auto-transcription, each interview was manually corrected. % In average, it would take around 12 hours to conduct and analyze each interview (interview process 2 hours, transcription 4 hours, coding 4 hours, memoing 2 hours) amounting to around \td{288} hours of manual work.

\subsection{Interview Data Collection and Analysis}
All interviews were conducted online using Microsoft Teams for easy transcription. All interviews were both audio and video recorded except one. Interviews lasted from 42 minutes to 115 minutes with an average of 64 minutes per interview. Because of lack of accuracy of auto-transcription, each interview was manually corrected.  
Qualitative data analysis (QDA) was interwoven with interviews. We used the qualitative data analysis tool MaxQDA
\cite{website:maxqda} for coding, memoing and diagramming. The coding process consisted of open coding, axial coding, and theoretical integration. 
% Coding and categorization was done through the hierarchical Code System feature, while interview segments were annotated with In-Document Memos. The Code Matrix Browser was used to track emerging concepts. We used the In-Document Memo feature to sort memos and compare and refine the concepts to generate central categories. MaxMaps was used to create a hierarchy of codes and the process flow of library selection.

\subsubsection{Open Coding and Memoing} During each interview, we continuously took field notes so that we could identify our concerning points. After each interview, we made summary memos with the new concepts that emerged, the properties of existing concepts that saturated, and the questions that arose. After first couple of interviews, the concepts had been identified and we were able to begin open coding after each interview. Initially, all codes were categorized under either of the process, factors, sources, and conditions concepts which directly came from our research questions. As the number of interviews increased, we also increased memoing for concepts and questions which were emerging. The memos contained our thoughts regarding the opinions shared by the interviews. We were also constantly comparing opinions provided by a new participant with previously analyzed data. 

\subsubsection{Axial Coding} After coding and analyzing the first four interviews, we started to discover the intersection points of different concepts using axial coding. For example, we identified that some selection factors are related with technical issues such as \code{ease of use}, \code{performance}, and \code{compatibility}, whereas a few factors are not dependent on the software of the library itself, such as \code{active development}, \code{community support}, paid \code{customer support}, which mostly relate with central concept of \code{support and maintenance}. Similarly, \code{company culture} and \code{company technology} had a central theme of \code{organizational influence}, which differs from developer's \code{personal background}, \code{experience level} or \code{personal motivation} which fall under the \code{individual influence} category. Using axial coding analysis, we created another layer of categories to group similar factors and conditions. 

% \subsubsection{Memoing} As the number of interviews increased, we also increased memoing for concepts and questions which were emerging. The memos contained our thoughts regarding the opinions shared by the interviews. We were also constantly comparing opinions provided by a new participant with previously analyzed data. Sometimes if there is any contradiction among interviewees, we wrote memos how the experts were contradicting and what were the underlying reason they expressed different opinions. For example, P10 (a web developer) and P14 (mobile app developer) shared differing experience regarding library version upgrades, and we noted this memo: \textit{"According to P10's experience, if a major library upgrades its version, then other dependent libraries also keep track of the upgradation and keep their (dependent) libraries updated as well. However, from P14's experience of mobile OS upgradation, they faced deprecated libraries which were no longer supported. Why they are experiencing opposite situations? Is it because mobile operating systems upgrade more frequently than backend infrastructure and mobile library developers cannot keep up with the changes and leave the projects?"}

\subsubsection{Theoretical Integration} 
% The version of Straussian grounded theory we employed, published in 2014, differed from the earlier version by placing emphasis on theoretical integration rather than selective coding to generate the core concept \cite{strauss1998basics,corbin2014gt}.
Diagrams and memos helped us conduct theoretical integration to generate the core concept of our research. For example, we started the interviews and analysis to explore how the developers adopt libraries. As the analysis progressed, we attempted to generate a core concept by sorting the memos and drawing interactive diagrams. We realized that unless we deeply understood why developers use libraries, we could not generate a core concept. After we identified developers' motivations and concerns for third-party libraries, the core concept emerged as the guiding principles of software library adoption which in an organization can guide a developer to make a decision by employing the library adoption steps and by considering the factors and conditions that influence the steps. 
%\gias{give a concrete example of how a guiding principle is derived using theoretical integration} 
For example, few developers wanted to talk to people when they were under tight deadline \emph{``the way of choosing libraries was actually talking to peers because we were in a rush to deploy" (P16)}. So we thought \code{Meet deadline} is a core concept. However, we also found that even when there was no deadline, some developers still reached out to their peers, because they did not want to spend time on searching library: \emph{``They [friends or colleagues] already did it, right? They can just tell you do this." (P11)}%{P11}
They wanted to \code{make their life easy}. Connecting these two motivations, we came to conclusion that both of them followed a common principle of \code{Just Do It}. 
% but in completely different conditions. In this way we could explain all types of developer decisions by following the guiding principles and these became the core concept of our library adoption model.

% , which was related with other concepts of the library factors, selection process, and conditional influence on the adoption.

% When we were asking why developers use libraries, suddenly an interviewee (P12) responded, \textbf{'Let me tell you why developers DO NOT use libraries'}. That was a ureka moment for us that led to the core concept of double-edged sword, and explained why developers consider so many factors and their complex organizational and technical conditions. Later using the sorted memos and interactive diagrams, we performed the theoretical integration to generate the theoretical framework of library adoption based on the core concept of a double-edged sword - \textbf{'win the battle with a double-edged sword, be careful lest it cuts you back'} or 'make your life easy, use a library instead, just be careful of the baggage it brings in.'

%\subsection{Data Availability}
%We include the following documents in our supplementary material: \todo{add reference to supplementary material - final version on zenodo \cite{website:replication-package}}
%\begin{itemize}
%\item Interview script
%\item Invitation emails containing adjusted interview script
%\item Consent form
%\item REB approval
%\item Final codebook exported from MaxQDA in Excel and MaxQDA format
%\item Grounded theory evaluation results of the study
%\item Appendix
%\end{itemize}
%In order to preserve the anonymity of our participants and to adhere to our ethics approval, we do not share a list of interview participants or the interview transcripts.

